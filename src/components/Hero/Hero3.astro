---
import Button from "@components/Button/Button.astro";
import { getLocaleFromUrl } from "@js/localeUtils";
import { getLocalizedRoute, useTranslations } from "@js/translationUtils";
import { Image } from "astro:assets";
import { Icon } from "astro-icon/components";

const currLocale = getLocaleFromUrl(Astro.url);
const t = useTranslations(currLocale);

import heroImage from "@images/dashboard-main-min.png";
---

<section id="hero3" class="relative flex w-full overflow-hidden pt-32 pb-28 md:pb-36">
  <!-- background glow -->
  <div
    class="bg-primary-500/50 absolute inset-0 top-[60%] -z-10 mx-auto h-[30%] w-[50%] max-w-3xl rounded-full blur-[100px] sm:top-[50%]"
    aria-hidden="true"
  >
  </div>

  <!-- background grid svg -->
  <div class="absolute inset-0 -z-20 flex overflow-hidden">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="text-base-400/70 dark:text-base-500 relative h-full w-full opacity-10 xl:scale-125"
      aria-hidden="true"
    >
      <defs>
        <pattern id="grid-pattern" width="60" height="60" patternUnits="userSpaceOnUse">
          <path d="M 60 0 L 0 0 0 60" fill="none" stroke="currentColor" stroke-width="2"></path>
        </pattern>
      </defs>
      <rect width="100%" height="100%" fill="url(#grid-pattern)"></rect>
    </svg>
  </div>

  <!-- hero items -->
  <div class="site-container mx-auto max-w-4xl gap-8 pb-32 text-center sm:pb-44 md:pb-72">
    <!-- notification -->
    <div class="mb-4 flex w-full items-center justify-center" data-mos="fade-up">
      <a
        href={getLocalizedRoute(currLocale, "/blog/tsconfig-paths-setup")}
        class="border-primary-300 bg-base-100 text-base-800 ring-primary-500 ring-opacity-20 hover:border-primary-400 dark:border-primary-300/20 dark:bg-base-800 dark:text-base-200 dark:hover:border-primary-400/40 flex items-center rounded-full border px-4 py-1 text-sm ring-2 transition"
      >
        <span class="flex items-center gap-2">
          <Icon
            name="tabler/wand"
            class="text-primary-600 dark:text-primary-300 inline h-4 w-4"
            aria-hidden="true"
          />New updates!</span
        ></a
      >
    </div>

    <!-- Hero text -->
    <h1
      class="from-base-900 to-base-600/90 dark:from-base-100 dark:to-base-400/90 bg-gradient-to-r bg-clip-text pb-4 text-5xl font-medium text-transparent md:text-6xl"
      data-mos="fade-up"
      data-mos-anchor="#hero3"
    >
      Welcome to IoniaScience
    </h1>
    <p
      class="description mx-auto mt-2 max-w-sm sm:max-w-md md:max-w-lg"
      data-mos="fade-up"
      data-mos-delay="0"
      data-mos-anchor="#hero3"
    >
      {t("hero_description")}
      <!-- Get your SaaS landing page and blog running in a snap. Save time with
      multiple pre-designed pages, sections, and components. Built with Astro
      and Tailwind CSS. -->
    </p>

    <!-- CTA -->
    <div class="mx-auto mt-8 flex max-w-sm flex-col justify-center gap-4 px-4 sm:flex-row">
      <Button
        variant="primary"
        href={getLocalizedRoute(currLocale, "/blog")}
        data-mos="fade-up"
        data-mos-delay="0.8"
        data-mos-anchor="#hero3"
      >
        Explore IoniaScience
      </Button>
      <Button
        variant="outline"
        href={getLocalizedRoute(currLocale, "/overview")}
        arrow="right"
        data-mos="fade-up"
        data-mos-delay="1"
        data-mos-anchor="#hero3"
      >
        Overview
      </Button>
    </div>
  </div>

  <!-- hero image -->
  <div
    class="site-container absolute inset-0 top-3/4 z-10 mx-auto max-w-4xl sm:top-2/3 md:top-[55%]"
    aria-hidden="true"
  >
    <!-- normal is border gradient around image -->
    <!-- after is transparent padding around image -->
    <div
      class=`relative h-fit rounded-2xl bg-gradient-to-b from-primary-400 dark:from-primary-500 to-base-300/70 dark:to-base-300/50 to-40%
      after:absolute after:inset-0 after:rounded-[calc(1rem-1px)] after:bg-base-100/30 dark:after:bg-base-800/50 after:inset-[1px]`
      data-mos="fade-in"
      data-mos-delay="0.2"
      data-mos-anchor="#hero3"
    >
      <Image
        src={heroImage}
        alt="logo"
        loading="eager"
        width={1500}
        class="relative z-20 rounded-2xl p-1 md:rounded-xl md:p-2"
      />
    </div>
  </div>
</section>
